<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Smart House Simulation</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/htmx.org@2.0.3"></script>
</head>
<body>
    <div class="container">
        <h1 class="container__title">Smart House Energy Simulation</h1>

        <section class="section control">
            <h2 class="section__title">Simulation Controls</h2>
            <div class="control__buttons">
                <button class="btn btn--start" hx-post="/simulation/start" hx-target="#status" hx-swap="outerHTML">Start Simulation</button>
                <button class="btn btn--stop" hx-post="/simulation/stop" hx-target="#status" hx-swap="outerHTML">Stop Simulation</button>
            </div>
            <div id="status" class="status" hx-get="/simulation/status" hx-trigger="load, every 5s" hx-swap="outerHTML"></div>
        </section>

        <section class="section energy-level">
            <h2 class="section__title">Energy Level</h2>
            <div class="energy-level__content" hx-get="/simulation/energy" hx-trigger="load, every 2s" hx-swap="innerHTML">
                <p class="energy-level__text">Current Energy: <span id="energy-value">Loading...</span> kWh</p>
            </div>
        </section>

        <section class="section devices">
            <h2 class="section__title">Devices</h2>
            <div id="devices" hx-get="/simulation/devices" hx-trigger="load">
            </div>
        </section>

        <section class="section sources">
            <h2 class="section__title">Energy Sources</h2>
            <div id="sources"  hx-get="/simulation/sources" hx-trigger="load">
            </div>
        </section>

        <section class="section log-search">
            <h2 class="section__title">Search Logs</h2>
            <form class="log-search__form" hx-get="/logs/search" hx-target="#log-results">
                <input type="text" name="query" placeholder="Enter search term" class="log-search__input"/>
                <button type="submit" class="btn btn--search">Search</button>
            </form>
            <div id="log-results" class="log-search__results">
            </div>
        </section>
    </div>
</body>
</html>
